<Page
    x:Class="MikoMe.Views.TranslatePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <!-- ✅ Global keyboard shortcuts -->
    <Page.KeyboardAccelerators>
        <KeyboardAccelerator Key="S" Modifiers="Control"
                             Invoked="SpeakerKbd_Invoked"/>
    </Page.KeyboardAccelerators>

    <Grid RowSpacing="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="Auto"/>
            <!-- Language headers + Swap -->
            <RowDefinition Height="*"/>
            <!-- Text boxes -->
            <RowDefinition Height="Auto"/>
            <!-- Buttons -->
            <RowDefinition Height="Auto"/>
            <!-- Status -->
        </Grid.RowDefinitions>

        <!-- Page header -->
        <Border Grid.Row="0" Background="#FFF3E6D8" Padding="24,18">
            <TextBlock
                Text="Translate"
                FontSize="28"
                FontWeight="SemiBold"
                Foreground="Black"
                HorizontalAlignment="Center"/>
        </Border>

        <!-- Language headers + swap -->
        <Grid Grid.Row="1" ColumnSpacing="12" Margin="24,12,24,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <TextBlock x:Name="InputHeader"
                       Text="Chinese"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Foreground="Black"
                       FontSize="16"
                       FontWeight="SemiBold"/>

            <Button x:Name="SwapButton"
                    Grid.Column="1"
                    Click="SwapButton_Click"
                    Width="44" Height="44"
                    ToolTipService.ToolTip="Swap">
                <FontIcon Glyph="&#xE8AB;" FontSize="20"/>
            </Button>

            <TextBlock x:Name="OutputHeader"
                       Grid.Column="2"
                       Text="English"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Foreground="Black"
                       FontSize="16"
                       FontWeight="SemiBold"/>
        </Grid>

        <!-- Text boxes -->
        <Grid Grid.Row="2" ColumnSpacing="12" Margin="24,0,24,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Input -->
            <TextBox x:Name="InputText"
                     PlaceholderText="Enter text..."
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     MinHeight="200"
                     Grid.Column="0">
                <TextBox.KeyboardAccelerators>
                    <KeyboardAccelerator Key="V" Modifiers="Control"
                                         Invoked="PasteKbd_Invoked"/>
                </TextBox.KeyboardAccelerators>
            </TextBox>

            <!-- Output -->
            <Grid Grid.Column="1">
                <!-- English output -->
                <TextBox x:Name="OutputEnglish"
                         PlaceholderText="Translation"
                         IsReadOnly="True"
                         AcceptsReturn="True"
                         TextWrapping="Wrap"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         MinHeight="200"/>

                <!-- Chinese output -->
                <Grid x:Name="ZhTargetPanel"
                      Visibility="Collapsed"
                      RowSpacing="6">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBox x:Name="OutputHanzi"
                             Grid.Row="0"
                             PlaceholderText="汉字"
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             ScrollViewer.VerticalScrollBarVisibility="Auto"/>

                    <TextBox x:Name="OutputPinyin"
                             Grid.Row="1"
                             PlaceholderText="Pinyin"
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             ScrollViewer.VerticalScrollBarVisibility="Auto"
                             Background="#FFEEF6FF"/>
                </Grid>
            </Grid>
        </Grid>

        <!-- Buttons row -->
        <Grid Grid.Row="3" ColumnSpacing="12" Margin="24,6,24,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left column -->
            <Button x:Name="PasteButton"
                    Click="PasteButton_Click"
                    Width="44" Height="44"
                    HorizontalAlignment="Left"
                    ToolTipService.ToolTip="Paste">
                <FontIcon Glyph="&#xE77F;" FontSize="20"/>
            </Button>

            <!-- Right column -->
            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12" HorizontalAlignment="Left">
                <Button x:Name="SpeakerButton"
                        Click="SpeakerButton_Click"
                        Width="44" Height="44"
                        ToolTipService.ToolTip="Speak">
                    <FontIcon Glyph="&#xE15D;" FontSize="20"/>
                </Button>

                <Button x:Name="CopyButton"
                        Click="CopyButton_Click"
                        Width="44" Height="44"
                        ToolTipService.ToolTip="Copy Box 1">
                    <FontIcon Glyph="&#xE8C8;" FontSize="20"/>
                </Button>

                <Button x:Name="CopyBox2Button"
                        Click="CopyBox2Button_Click"
                        Width="44" Height="44"
                        ToolTipService.ToolTip="Copy Box 2">
                    <FontIcon Glyph="&#xE8C8;" FontSize="20" Foreground="#FF6C8CD5"/>
                </Button>
            </StackPanel>
        </Grid>

        <!-- Status -->
        <TextBlock x:Name="StatusText"
                   Grid.Row="4"
                   Foreground="DarkOrange"
                   FontSize="12"
                   Margin="24,8,0,0"/>
    </Grid>
</Page>
